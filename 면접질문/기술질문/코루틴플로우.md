# <2주차 코루틴 플로우 면접 공유>

## 🍎Q. Flow에 대한 간단한 설명?

### 🍏A. 
코루틴 플로우 자체의 의미→ 일을 진행하는 것을 의미, 디비에서 실시간으로 데이터 수신할수있음

레트로핏에서 필요할때마다 요청하는것이 아닌 옵저버 형식으로 리액티브하게 가져옴

(리액티브 프로그래밍을 하는 이유 → 데이터가 변경될 때 데이터를 계속해서 가져올수있음)

플로우는 단방향 형식으로 데이터를 가져옴 → 데이터를 여러방식으로 가져온다고 하면 데이터의 최신화된 정보를 못가져올수도없고 Null 값을 가져올 수 있기때문임

## 🍎Q. Flow의 세가지 구성요소와 각각에 대한 간단한 설명?

### 🍏A. 
생산자 - 데이터를 가져옴, 최신데이터를 가져옴 emit으로 데이터 생성, 주기를 정해서 반복해서 가져올 수있음

중간미디어 - 데이터를 수정 가공 예외처리할수있음 map/filter/onEach 주로 사용, 레포지토리에서 가져와 처리함

소비자 - 뷰모델 부분에서 가져와 처리할수있음. 뷰모델 스코프 런치를 활용해 collect

## 🍎 Q. Flow는 데이터를 수집할 순 있지만 저장할 순 없는데, 어떤식으로 해결할 수 있는지?

### 🍏A. 
플로우는 한번 나오면 빠져나오는 형식임

 → 이 문제를 해결하기 위해서 뷰모델에 저장이 가장 효율적일것같다. 이렇게 뷰모델에 저장해서 사용하다보면 여러개의 플로우가 필요할때가 있고, 이때마다 가져오는 비슷한 페칭로직을 구현해야함 →  보일러 플레이트의 문제가 존재

## 🍎 Q. Flow와 StateFlow 차이?

### 🍏A. 
플로우는 데이터 흐름만 발생하고 저장시키지 못하는 상태.

홈화면 나갔다가 다시 들어오면 또 데이터 요청해야 함(콜드플로우, 필요할때만 요청) → 콜렉트한 데이터를 저장하기 위해 스테이트 플로우 사용 → 언제 구독을 하고 언제 초기값을 설정 스코프 범위를 명시하고 있음 → 언제부터 구독할지, 어떤 주기로 요청할지 사용할 수 있음. 또한 데이터의 초기값도 설정가능

핸드폰 가로회전 예시 + 생명주기 관련해서 답변

## 🍎 Q. Flow가 안전하게 수집 해제되는 시점을 어떻게 조절할건지? ⭐️

### 🍏A.  
주로 뷰모델스코프에 할당하거나, repeatOnLifecycle 함수를 활용해서 메모리 누수 방지할 수 있음

## 🍎+Q. repeatOnLifecycle가 어떻게 동작하는지, 그냥 코루틴스코프에 할당하는 것과의 차이가 무엇인지?

### 🍏A. 
onDestroy시에 콜렉트가 중단되기때문에 백그라운드에 앱이 남아있으면 콜렉트가 해제되지 않음. 그래서 repeatOnLifecycle은 onStop했을 때 콜렉트를 멈추고 onStart가 되었을 때 데이터 수집을 시작함

+오직 1개의 flow만 collect할 경우 flowWithLifecycle을 사용하면 좋음

##  🍎Q. 라이브데이터와 Flow의 차이?⭐️

## 🍎Q. Flow를 어떨때 쓰는지? or Flow의 장점

## 🍎Q. Flow가 클린 아키텍처 관점 뿐 아니라 “LiveData의 한계를 해결해준다” 이외의 느끼는 장점이 따로 있는지?

## 🍎Q. collect와 collectLatest 차이?

## 🍎Q. flow를 통해 데이터를 받아 올 때 예외처리를 어떻게 하면 좋을지? or 발생하는 예외에 대한 처리 경험? → try-catch / runCatching / coroutineExceptionHandler
